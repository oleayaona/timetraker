<html lang="en">
    <%- include('./partials/head.ejs') %>

<body>
    <%- include('./partials/nav.ejs') %>
    <ul>
        <li><a id="emp-info-btn" href="#">View My Employee Info</a></li>
    </ul>

    <div class="employee-info">

    </div>

    <%- include('./partials/footer.ejs') %>

    <script>
        const btn = document.querySelector("#emp-info-btn");
        let container = document.querySelector(".employee-info");
        btn.onclick = () => {
            container.innerHTML = "<p>Loading...</p>"
            event.preventDefault();
            fetch('/view-requests')
                .then((response) => response.json())
                .then(result => {
                    console.log("Got results!", result);
                    container.innerHTML = `
                    <h3>${result.first_name} ${result.last_name}</h3>
                    <p>${result.start_date} </p>
                    <p>${result.emp_email} %></p>
                    `;
                }).catch((err) => {
                    console.log("Error fetching data: ", err);
                });
        };
    </script>
</body>
</html>